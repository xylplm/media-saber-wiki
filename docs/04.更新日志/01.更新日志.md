---
title: 更新版本
article: false
date: 2023-06-28T05:11:48.294Z
tags:
categories: 更新日志
editor: markdown
dateCreated: 2023-05-12T04:26:30.172Z
permalink: /update_version
---

# 更新日志

## 3.0.202509261813

** ✨ 新增功能 **
1. 新增云存储强制删除功能，支持在云存储中强制驱动，避免删除失败的情况。
2. 站点标签插件现在支持显示站点名称，提升用户识别体验。
3. 实现安全的 go func 执行机制，避免程序 panic，提高系统稳定性。
4. 新增 Nullbr 站点流控功能，支持资源数量显示和流控管理。
5. 新增媒体详情资源类型 basic 配置字段，支持更精细的资源分类。
6. 新增 Nullbr M3U8 链接支持，优化在线视频播放体验。
7. 新增硬链接搜索和删除功能，支持文件系统的硬链接管理。
8. 新增 OpenList 同步功能，支持列表数据的自动同步。
9. 98 站点签到功能增强，支持显示用户名、积分、用户组及下次升级所需积分。
10. 新增目录同步优化和 115 签到插件，提升文件管理和签到效率。
11. 实现飞牛残缺版功能，支持特定场景下的文件处理。
12. 新增订阅搜索间隔功能，支持自定义搜索频率。
13. 对订阅系统进行全面重构，提升性能和稳定性。
14. 新增订阅 AI 识别增强开关，支持智能识别功能。
15. 新增 10bit 附加规则，支持更高画质的视频处理。
16. 新增日语配音关键词支持，扩展配音语言选项。
17. 新增搜索和管理硬链接功能，优化文件系统操作。
18. 媒体详情页面新增资源类型显示，提升信息透明度。
19. 西瓜播放器功能优化，提升播放体验和稳定性。
20. RSS 订阅新增待订阅集数字段及编辑显示功能。
21. 新增订阅搜索间隔配置项，并调整前端布局宽度。
22. 新增 AI 订阅识别增强开关，提升识别准确性。
23. 新增电影体积显示信息，方便用户查看。
24. 增加质量规则和体积规则的展示，提升匹配透明度。

** 🔧 功能优化 **
1. 站点标签改为使用站点名称显示，提升可读性。
2. 优化文件 ctime 和 unix 时间戳处理，即使复制文件也能正确生成。
3. 优化极空间媒体库列表加载速度，解决慢的问题。
4. 程序 panic 事件现在会记录到日志文件，便于调试。
5. 优化 file walk 逻辑，硬链接现在会忽略自身，避免重复处理。
6. ipv4 优先使用 iping.cc 接口，提升查询效率。
7. 优先使用 iping 接口获取 IP 归属地，优化网络请求。
8. 更换种子读取库，避免 panic 错误，提高稳定性。
9. 尝试使用 interface map 修改临时种子文件，解决转种错误。
10. 站点签到增加 30 分钟随机延迟，避免集中请求。
11. 所有签到插件均增加 30 分钟随机延迟，优化服务器负载。
12. 资源链接现在支持可选配置，增加灵活性。
13. 触发站点流控警告时，直接提示用户而不是解析报错。
14. 订阅自带补漏功能，去除冗余的补漏命令和 MCP。
15. 内网 IP 不再查询归属地，减少不必要的网络请求。
16. 修复分类列表原始语种显示问题，确保信息准确。
17. 优化级联删除时的通知机制。
18. 优化订阅搜索任务逻辑，提升搜索效率。
19. 优化硬链接搜索性能，减少资源消耗。
20. 修复 115 分享链接打不开、订阅正则匹配等问题。
21. 优化 mlist 秒传识别功能。
22. 优化重新订阅功能逻辑。
23. 修复订阅 TMDB 匹配问题。
24. 优化馒头做种统计功能。
25. 修复 QB5 转种问题。
26. 手动上传种子下载时，无站点信息不再报错。
27. 完善违禁词过滤机制。
28. 修复临时种子文件夹不存在导致种植失败的问题。
29. 优化 OpenList 同步功能。
30. 寻影探剧增加 1 天缓存，减少重复请求。
31. 单集 ed2k 资源和 115 签到增加日志记录。
32. 115 签到支持一键扫码登录。
33. 修复微信消息超长问题，自动分隔超长消息。
34. 目录同步忽略隐藏文件，修改启动顺序。
35. 调整程序启动顺序，优化初始化流程。
36. 目录同步使用时间过滤初始扫描事件。
37. 修复订阅完成状态未正确更新的问题。
38. 更换目录监控库，提升监控效率。
39. 字符串转数字时打印错误栈，便于调试。
40. 优化订阅集数过滤逻辑。
41. 全局 panic 恢复机制，增强程序健壮性。
42. 全面优化订阅过滤功能。
43. 目录同步功能回退到稳定版本。
44. 目录同步更换为 watcher 机制。
45. 优化种子排序代码逻辑。
46. 目录同步去掉写事件，减少不必要触发。
47. 优化 PTPP 导入功能。
48. 优化系统提示语，提升用户体验。
49. 优化神游奖励日志信息记录。
50. 优化目录监听事件处理。
51. 配音支持中配关键词，扩展配音选项。
52. 优化硬连接搜索功能。
53. 优化路径选择显示效果。
54. 优化播放模态框显示。
55. 无资源时不再显示 card，提升界面简洁。
56. 支持 M3U8 在线视频播放。
57. 动态表单 select 支持清空和多选。
58. 路径选择支持双击展开。
59. 优化圆柱显示为正向。
60. 移除废弃的 Angular 动画。
61. 优化 Angular 性能。
62. 多次优化图片加载性能。
63. 优化媒体列表图片加载。
64. 调整智能体角色输入框位置。
65. 优化做种数和体积规则展示逻辑。
66. 优化 Torrent 匹配页面显示与样式。

** 🐛 问题修复 **
1. 修复驱动删除失败问题，增加二次确认和强制删除选项。
2. 修复云存储上传按钮菜单触发器的引用错误。
3. 修复多个前端相关 Bug，提升界面稳定性。
4. 优化站点资源列表过滤，仅显示已启用且开启搜索的站点。
5. 修复责任提醒功能。
6. 修复媒体库标题超长显示问题。
7. 修复列表获取不能在表单初始化之前的问题，避免默认填充错误。
8. 修改弃用方法，确保兼容性。
9. 创建 600.svg 图标文件。
10. 修复事件处理逻辑。
11. 修复 Cloudflare 优选功能。
12. 修复 ZSpace 相关问题。
13. 修复 Panic 记录机制。
14. 修复字段定义错误。
15. 修复柠檬神游空切片索引导致的 panic。
16. 修复 98 站点相关问题。
17. 修复请求错误处理。
18. 修复文件转存问题。
19. 98 站点未获取到用户信息时不再显示。
20. 移除永远不会执行的多余错误提示。
21. 修复系统提示语。
22. 修复导航和容器样式问题。
23. 修复下载器参数更新组件。
24. 修复媒体详情信息组件显示。
25. 简化 RSS 历史组件代码。
26. 修复工具对话框和模块。
27. 修复创建时间 unix 逻辑。
28. 修复云存储强制删除和存储逻辑。
29. 添加 Cloudflare 速度测试偏好。
30. 修复 NP 客户端问题。
31. 修复媒体 API 和服务相关字段。

## 3.0.202509101006

** ✨ 新增功能 **

1. CookieCloud 同步插件 - 支持自动同步和管理 Cookie
2. Slack 消息通知渠道
3. SynologyChat 消息通知支持
4. PushPlus 消息推送支持
5. 钉钉机器人消息通知功能
6. hdhive 站点自动签到功能
7. 下载备份插件 - 支持下载最新备份和数据库备份
8. 种子排序权重配置功能 - 支持恢复默认值
9. 种子匹配规则系统 - 提升匹配准确性
10. 刷流识别过滤规则配置
11. 种子排序规则复制功能
12. 搜索任务重新排序功能
13. 一键复制种子标题功能
14. Tracker 替换功能
15. IYUU 自动删除 0% 进度种子功能
16. 下载器站点标签秘籍功能
17. 云端存储功能 - 支持复制当前路径
18. 115 网盘扫码获取 Cookie 功能
19. 98 站点获取 Cookie 功能
20. 豆瓣 Cookie 获取功能
21. 订阅默认设置功能
22. 媒体类似和推荐功能
23. Nullbr 资源数量显示
24. OpenList 同步功能
25. 小米路由器 Hosts 管理图标

** 🔧 功能优化 **

1. 媒体详情页面加载性能优化
2. 下载三要素抽出为服务请求，增加缓存和状态管理
3. 图片代理配置优化 - 支持根据后端地址自动配置
4. 制作组匹配算法优化 - 提升效率和准确度
5. 高帧率视频识别功能优化
6. 制作组信息识别增强
7. HR 种子判断逻辑优化
8. 正则表达式边界匹配优化 - 防止错误匹配
9. 98 签到 AI 提示词优化 - 增加补充提示
10. 目录输入框改为路径可选择模式
11. 文件名超长时的显示处理优化
12. 通知消息中的链接显示优化
13. CloudFlare 插件支持同步小米路由器 Hosts
14. 自定义 Hosts 插件功能优化
15. 渐进式 Web 应用体验优化
16. 暗黑模式界面样式优化
17. 图片加载和显示性能优化
18. 订阅包含和排除规则配置优化
19. 自动填入匹配规则名称功能优化
20. 下载器相关请求重构为统一的 DownloaderApiService
21. 订阅表单结构优化 - 移除过时的过滤规则字段
22. 动态表单布局和交互体验优化
23. 过滤规则和排序规则列表抽出 - 优化冗余代码
24. Angular 版本及相关依赖升级
25. ECharts 图表库升级到 V6 版本
26. 移动端响应式布局优化
27. 无图片模式显示效果优化

** 🐛 问题修复 **

1. 匹配丢弃规则仍出现在后续列表中的问题
2. 规则正则不匹配却依旧匹配成功的问题
3. 当前规则匹配后剩余 0 个种子时的处理逻辑
4. 选中规则且已有结果时的终止逻辑
5. 0 评分的显示问题
6. 标签不透明显示问题
7. 过滤类型颜色显示问题
8. 多选组件出现非数组异常
9. 工具对话框中值为 0 时的处理问题
10. DC 助手支持分神功能问题
11. 神游插件处理流程和日志记录优化
12. 115 分享接口字段类型变更问题
13. 媒体列表状态判断逻辑问题
14. IP 位置接口更新 - 支持 IPv4 和 IPv6
15. 后端接口跨域处理 - 增加特殊请求头
16. Service Worker 配置和缓存策略调整
17. 订阅包含、排除规则配置问题


## 3.0.202508111017

**✨ 新增**

**🤖 智能体配置增强**
- 新增智能体单独基础配置选项卡，为AI智能体提供独立的配置界面
- 优化AI配置界面布局，提升配置体验
- 完善基础服务配置页面

**☁️ 云存储优化**
- 阿里云盘开放平台同步优化，新增智能限流机制，避免API调用过于频繁
- 优化驱动逻辑，提升同步稳定性
- 改进上传模块和工具函数

**⚡ 优化**

**后端性能提升**
- 目录子分类查询优化，使用预构建map替代循环查找，显著提升响应速度
- 优化TMDB数据映射性能，减少重复数据查找操作
- 改进种子排序算法，优化种子选择逻辑，提升种子管理效率

**🎨 用户体验改进**
- 复制功能增强，替换为Angular Material自带复制方法，提升跨浏览器兼容性
- 涉及多个核心组件：媒体详情、资源链接、云存储搜索、API管理等
- 移除自定义复制实现，减少维护成本
- 智能体MCP配置确认页面优化，完善配置流程，提升用户操作体验
- 优化页面样式和交互逻辑，改进配置提醒机制
- 改进整体页面样式，优化用户界面显示效果，提升视觉体验

**🐞 修复**

**前端稳定性修复**
- 修复智能体MCP快速添加组件显示问题
- 解决多个前端组件运行时错误
- 改进页面渲染逻辑，增强交互稳定性

**后端维护**
- 清理无用Go模块依赖，更新go.mod和go.sum文件，减少潜在依赖冲突
- 修复多个系统稳定性问题，提升整体系统可靠性

**📋 配置更新**
- 更新MCP服务器示例配置，调整默认端口设置
- 优化配置文件结构

**📊 本次更新统计**：
- **新功能**: 2项重大功能更新（智能体配置增强、云存储优化）
- **性能优化**: 3项关键性能提升（TMDB映射、种子排序、查询优化）
- **问题修复**: 多项稳定性改进（前端组件修复、依赖清理）
- **用户体验**: 全面的界面和交互优化（复制功能、MCP配置、样式改进）


## 3.0.202508092033

发布日期：2025年8月9日

**🎉 重大更新**

**🤖 AI 功能全面升级**
- **新增 AI Chat 智能助手**：全新的AI对话服务，支持流式对话交互
- **语音识别**：AI Chat 新增语音输入功能，提升用户体验
- **会话管理**：支持会话标题自动更新和手动编辑
- **统计图表**：Chat 界面新增数据统计展示
- **系统提示词**：支持自定义AI系统提示词和角色设置
- **消息优化**：重构消息组件，支持停止生成、重试、删除等操作

**🔧 MCP (Model Context Protocol) 全面集成**
- **MCP 服务端**：全新的 MCP 协议支持，提供强大的工具调用能力
- **内置工具集**：
  - 媒体库管理工具（搜索、统计、推荐）
  - 云存储管理工具
  - 下载任务管理工具
  - TMDB 搜索工具
  - 媒体资源搜索工具
- **三种认证方式**：支持多种MCP服务认证机制
- **服务管理**：内置MCP服务列表，支持批量导入和管理
- **MCP批量导入**：新增批量导入MCP服务配置功能，简化部署流程

**🎯 站点功能增强**
- **98堂签到增强**：
  - 支持AI润色评论内容（字数不少于15字）
  - 随机板块签到
  - 黑名单帖子过滤
  - 版务贴自动过滤
  - 回帖记忆功能，避免重复回帖（记忆最近20条帖子ID）
  - 支持以帖子标题作为参照物进行评论润色
- **扣子罗盘集成**：
  - 新增智能体Trace观测功能
  - 支持扣子罗盘空间ID和Token配置
  - 修改配置需重启生效的提示优化

**🚀 新功能特性**

**前端 (Frontend)**
- **动态表单优化**：改进移动端表单展示效果
- **媒体详情增强**：优化演员列表、剧集列表、预告片等展示
- **图片处理重构**：
  - 移除旧的fullImageUrl管道，统一图片URL处理逻辑
  - 优化图片加载性能，减少模块依赖
  - 改进缺省图片显示机制
- **Angular 升级**：更新到 Angular 20.1.2，提升性能和安全性
- **AI 组件重构**：
  - 消息内容拆分组件化
  - 流式显示优化
  - 移动端适配改进
- **清理功能**：新增临时标签清理功能
- **界面优化**：大规模重构各页面组件，移除冗余依赖，提升加载速度

**后端 (Backend)**
- **AI 集成**：
  - 基于 OneAPI 的AI服务代理
  - Chat Completions API 支持
  - AI Agent 智能体重构
  - AI模型列表获取优化，改用OpenAI SDK
  - 修复流式/非流式响应处理逻辑
- **云存储优化**：
  - STRM302 直链缓存机制
  - 文件夹清理优化
  - 转存整理后空文件夹自动清理
  - Open115同步功能优化
- **下载增强**：
  - 离线下载支持
  - QB 临时标签管理
  - 种子排序问题修复
- **媒体服务**：
  - OpenList 同步功能
  - 媒体库统计信息
  - TMDB 缓存优化
- **98堂功能增强**：
  - AI评论润色功能
  - 智能回帖逻辑优化
  - 随机板块支持

**🐛 Bug 修复**

**前端修复**
- **图片处理优化**：移除冗余的fullImageUrl管道，统一图片URL处理逻辑
- **模块依赖清理**：大规模清理各页面组件的冗余模块依赖，提升性能
- **界面显示修复**：
  - 修复媒体详情页面各组件显示问题
  - 优化搜索结果页面布局
  - 改进云存储任务卡片显示
  - 修复RSS相关页面显示异常
- **聊天界面优化**：优化AI聊天界面在移动端的显示效果
- **表单验证增强**：改进动态表单验证和交互体验
- **配置界面改进**：优化设置页面的提示信息和用户引导

**后端修复**
- **AI服务优化**：
  - 修复AI模型列表获取逻辑，改用OpenAI官方SDK
  - 修复流式和非流式响应的处理差异
  - 优化MCP工具调用的内容输出逻辑
- **数据库性能**：修复慢SQL查询问题，优化数据库性能
- **云存储修复**：
  - 修复Open115 list问题，优化fastlink处理
  - 修复STRM302直链相关问题
  - 优化文件路径非法字符强制编码处理
- **下载功能**：
  - 修复订阅种子排序异常
  - 修复QB临时标签未删除问题
  - 优化媒体类型识别逻辑
- **MCP服务稳定性**：
  - 修复MCP服务安装后启用不生效问题
  - 优化MCP客户端初始化逻辑
  - 改进MCP服务导入和管理功能
- **98堂功能**：改进签到逻辑，优化AI润色提示语

**🔧 技术改进**

**架构优化**
- **组件拆分**：前端AI相关组件重构，提高可维护性
- **接口优化**：后端API接口标准化改进
- **性能提升**：
  - 数据库查询优化，减少慢SQL
  - 前端模块依赖清理，减少打包体积
  - 图片处理逻辑统一，提升加载速度
- **代码质量**：
  - ESLint规则更新，代码规范改进
  - 移除冗余代码和无用依赖
  - 优化组件间耦合度

**安全增强**
- 上传文件大小限制调整至20M
- 接口认证机制优化
- 输入验证增强

**📊 数据统计**

本次发版包含：
- **前端提交**：154个commit（其中修复类102个）
- **后端提交**：225个commit（其中修复类164个）
- **主要功能模块**：AI Chat、MCP协议、站点增强、媒体管理
- **涉及文件**：数百个文件的优化和新增
- **代码变更量**：
  - 前端：大规模依赖重构，Angular版本升级
  - 后端：AI集成重构，MCP协议实现，数据库优化

**🔄 兼容性说明**

- 建议在升级前备份配置文件
- MCP功能为新增功能，不影响现有功能使用
- AI Chat功能需要相应的API配置
- 扣子罗盘功能需要配置空间ID和Token
- 98堂AI润色功能需要AI服务支持

**⚠️ 重要提醒**

- **Angular版本升级**：前端升级到Angular 20.1.2，建议清理node_modules重新安装依赖
- **图片处理变更**：移除了fullImageUrl管道，如有自定义组件使用需要适配
- **扣子罗盘配置**：修改空间ID和Token后需要重启服务生效
- **AI功能配置**：新的AI功能需要正确配置OneAPI服务
- **MCP服务**：首次使用MCP功能需要进行相关配置

**📝 升级建议**

1. 备份当前配置和数据
2. 按照部署文档更新前后端代码
3. 检查新增的配置项目
4. 测试AI Chat和MCP功能
5. 验证现有功能正常运行


## 3.0.202507121334

**✨ 新增**

**🏗️ 核心架构升级**
- ☁️ **云存储管理系统重构**：Mlist全新云存储架构，支持openlist网盘驱动，为media Saber赋能 支持115、123、阿里云盘、天翼云盘、OneDrive等多种驱动
- 🔌 **统一云存储API**：统一的云存储接口和管理界面，提供一致的操作体验
- ⬆️ **Angular 20升级**：前端框架升级到Angular 20，提升性能和开发体验

**🌐 云存储功能矩阵**
- 📋 **任务管理系统**：完整的任务创建、监控、取消、重试、批量操作功能
- 📁 **文件操作套件**：新建文件夹、移动、复制、删除、重命名、批量选择
- 🔍 **路径搜索**：增加云存储路径搜索功能，支持快速定位文件
- ⬆️ **上传功能**：支持文件上传到各类云存储平台
- 🌳 **目录树管理**：完整的目录树结构展示和操作
- 💾 **转存功能**：媒体资源可直接转存到云存储

**📱 115网盘专项功能**
- 🔐 **扫码登录**：115网盘支持扫码登录功能
- 🎯 **115 Open API**：基于官方开放接口的115网盘驱动
- 📤 **115分享处理**：支持115网盘分享链接处理
- 🍪 **Cookie管理**：优化115网盘cookie配置和管理

**🎬 媒体处理增强**
- 🔧 **STRM修复工具**：STRM链接修复，支持替换host、api、apiKey
- 🔗 **STRM302驱动**：新增STRM302云存储驱动
- 📄 **云存储媒体整理**：支持云存储路径的媒体整理和转移
- 🎬 **媒体详情重构**：媒体详情页面全面重构，支持云下载功能
- 📄 **未识别媒体分页**：媒体整理中未识别页面增加分页功能
- 🆔 **TMDB ID复制**：媒体详情支持一键复制TMDB ID
- 🧹 **TMDB缓存清理**：媒体详情支持一键删除媒体TMDB缓存

**🛠️ 系统功能扩展**
- 🌐 **WebDAV支持**：新增WebDAV协议云存储驱动和文件管理
- 🏷️ **目录复制功能**：支持从标签复制目录结构
- 🖼️ **自定义SVG图标**：增加自定义SVG图标支持和demo
- 🌐 **动态字段翻译**：根据label区分MS自定义字段和openlist字段
- 🏷️ **站点VPN标签**：站点测试显示VPN标签
- 🎨 **驱动图标显示**：各种云存储驱动显示对应图标

**⚡ 优化**

**🏗️ 核心架构优化**
- 🔧 **HTTP客户端池**：增加HTTP client连接池，优化response body释放
- 💾 **缓存机制升级**：本地和云存储请求增加缓存机制，提升响应速度
- 🚀 **并发请求优化**：优化文件列表并发请求逻辑和性能
- 🎯 **性能监控**：开启gozero pprof性能分析工具

**📋 任务管理优化**
- 🎴 **任务界面重构**：任务界面改为卡片式展示，支持手机端
- ⚡ **任务状态优化**：优化任务状态显示和执行逻辑
- 🔄 **任务重试机制**：完善任务失败重试机制
- 🧹 **任务清理功能**：支持批量清理已完成/失败任务

**📁 文件管理优化**
- 📝 **文件显示增强**：支持显示所有文件类型，长文件名支持自动换行
- 🔗 **联动删除优化**：优化云存储文件的联动删除逻辑
- 📏 **文件大小显示**：优化云存储文件大小显示逻辑
- 🖱️ **操作交互优化**：文件夹双击打开改为单击打开

**📊 界面与图表优化**
- 📊 **图表库升级**：统计图表改用ECharts，移除ApexCharts依赖
- 📈 **今日上传图表**：柱状图改为ECharts实现
- 🎨 **界面布局调整**：多个页面的布局和样式优化
- 🌳 **目录树展开**：使用完整路径确定节点，避免同名节点展开问题

**🎯 媒体处理优化**
- 📊 **路径过滤优化**：优化媒体整理的路径过滤逻辑
- 📦 **小体积过滤**：小体积过滤只处理媒体文件，提升效率
- 🎬 **TMDB缓存优化**：优化TMDB信息缓存和查询逻辑
- 📋 **媒体详情优化**：优化媒体详情页面的数据结构和显示

**🚀 性能与体验优化**
- 📊 **站点统计优化**：站点统计数据1分钟内只请求一次，避免频繁请求
- ⚠️ **登录错误提示**：优化拦截器，登录错误1秒内只提示一次
- ☑️ **全选限制**：限制全选不会选中文件夹
- 📊 **存储状态显示**：优化存储状态的显示方式

**🐞 修复**

**☁️ 云存储修复**
- ⏰ **缓存过期处理**：修复云存储缓存过期时间可以为空的问题
- 🍪 **Cookie配置**：修复115open转存、目录树未配置cookie时的提示
- 🔄 **任务状态修复**：修复云存储未完成任务的状态处理
- 📂 **目录操作修复**：修复云存储目录操作相关的各种问题
- 📏 **文件大小显示**：修复云存储文件大小显示逻辑
- ☁️ **路径判断优化**：优化云存储和本地路径的判断逻辑

**🎬 媒体处理修复**
- 🗑️ **TMDB缓存清理**：修复删除TMDB缓存无效的问题
- 📊 **数据结构修复**：修复季集资源链接接口返回数据结构
- 🔧 **STRM处理修复**：修复STRM文件生成和处理逻辑
- 📁 **路径处理修复**：修复文件路径处理和显示逻辑
- 🖱️ **文件操作修复**：修复文件双击相关问题

**🛠️ 系统与插件修复**
- 🌐 **NullBr代理配置**：修复nullbr默认走代理的配置
- 🗑️ **删种逻辑修复**：修复删种插件的做种时间逻辑
- 📋 **动态表单修复**：修复动态表单配置错误
- 💾 **数据库操作**：修复各种数据库操作相关问题
- 🛑 **插件卸载修复**：修复部分插件卸载后任务还会运行的问题

**🔧 技术债务修复**
- 🛤️ **非法路径设置**：修复非法路径设置问题
- 📦 **依赖更新**：更新项目依赖解决相关问题
- ⚠️ **构建警告**：修复构建过程中的警告
- 🔍 **Lint问题**：修复代码格式检查问题
- 🎨 **图标包问题**：修复图标包相关问题，改为自己打包的版本

**🚀 性能与稳定性修复**
- 📱 **移动端优化**：优化移动端界面显示和操作
- 🔄 **内存泄漏修复**：修复可能的内存泄漏问题
- ⚡ **响应速度提升**：提升各种操作的响应速度
- 🛠️ **错误处理完善**：完善各种异常情况的错误处理
- 📋 **任务速度显示**：修复已完成任务的速度显示
- 🌐 **翻译状态**：解决翻译相关的状态问题
- 🧹 **冗余显示清理**：移除各种冗余的显示内容

---

**🚨 重要提醒**：
- 本次更新包含云存储架构的重大重构，建议在更新前备份重要数据
- 云存储功能现已支持更多网盘类型，请重新配置相关驱动
- 部分API接口可能有变化，请检查相关集成是否正常工作
- 新增的功能需要重新配置相关参数才能正常使用
- 前端框架已升级到Angular 20，请清除浏览器缓存以获得最佳体验

**📊 本次更新统计**：
- 💾 云存储架构全面重构，支持更多驱动类型
- 🎯 媒体处理功能大幅增强，提升用户体验
- 🚀 性能优化多达30+项，显著提升系统响应速度
- 🐛 修复问题40+个，大幅提升系统稳定性



## 3.0.202506191125

- 新增 alert提示，部分插件增加提示信息
- 新增 媒体服务器配置支持删除同步历史记录
- 新增 媒体详情 支持一键删除媒体tmdb缓存
- 新增 媒体整理 支持选择仅媒体文件
- 新增 媒体整理 支持转移字幕
- 新增 系统基础设置 增加站点下载超时时间 合理设置下载超时，避免部分站点下载种子文件太慢超时
- 新增 系统基础设置 增加刮削配置 设置削刮原数据
- 新增 修仙秘籍 Host文件 增加定时任务同步系统hosts
- 新增 修仙秘籍 Cloudflare IP优选 调整根据域名进行host替换
- 新增 媒体详情 支持一键复制TMDB ID
- 新增 系统基础设置 增加临时文件保留天数配置 /app/config/tmp 路径下的文件
- 新增 系统基础设置 增加FanArt 代理配置 开启后刮削元数据会走代理
- 新增 站点维护页面增加手机UI呈现
- 新增 站点资源 资源列表添加站点favicon显示
- 新增 系统基础设置 增加TMDB 原语言图片配置 开启后 mdb 海报、背景图使用原语言图片
- 新增 手动识别目录手机端做成卡片
- 新增 识别词支持导入导出，识别词组新增词组内批量操作
- 新增 整理历史和手动识别列表中本地路径支持点击跳转到文件管理
- 新增 名称测试 tmdbid支持打开tmdb网站
- 新增 名称识别测试 识别后支持 一键清缓重试 快速排除缓存导致的识别问题
- 新增 目录同步 路径组件支持选择路径类型
- 新增 增加日志 max size环境变量  MS_LOG_MAX_SIZE
- 新增 网盘手动整理增加识别重命名开关、未知目录
- 新增 115网盘
- 新增 nullbr 新增列表 IMDB：热门电影、IMDB：热门电视节目、传记电影、传记电视节目、烂番茄2025 年最佳等
- 新增 TMDB削刮数据云上报 为后续AI识别词云共享奠定基础
- 新增 115 根据文件路径获取文件(夹)详情  至此115相关功能仅目录树和转存需要用到cookie，其他全部换成了open API

- 优化 手动整理逻辑优化
- 优化 识别词组和目录同步 面板支持记住展开状态
- 优化 名称识别词测试标签样式
- 优化 普通用户屏蔽部分功能
- 优化 目录同步 路径组件优化调整 支持选择路径类型
- 优化 过滤规则界面调整
- 优化 转存窗口样式
- 优化 提升刮削性能
- 优化 TMDB缓存优化
- 优化 媒体库列表自动刷新缓存
- 优化 115 上传生成 strm pc 优化
- 优化 基础过滤体积过滤拿缓存优化
- 优化 图片代理超时改为10秒，避免长时间等待导致前端阻塞

- 修复 部分下拉列表错误
- 修复 TMDB图片代理导致的订阅列表错误  去除鸡肋的TMDB图片代理配置
- 修复 一大堆刮削问题修复
- 修复 单条日志太长导致的 token too long 错误
- 修复 nullbr 站点搜索
- 修复 移动文件跨盘问题
- 修复 搜索特别慢的问题
- 修复 朱雀搜索缓存导致数据一样的问题
- 修复 普通用户订阅权限问题
- 修复 订阅集数跳过问题
- 修复 订阅正则编译问题



## 3.0.202505301021

- 新增 网盘支持Alist
- 新增 秘籍《订阅 MP 共享识别词》
- 新增 榜单页面支持浏览器记忆上次选择的条件
- 新增 识别词管理页面重构
- 新增 名称识别测试页面重构
- 新增 种子识别服务全面增强，识别成功率和准确性大幅提升
- 新增 榜单支持豆瓣在看、想看
- 新增 秘籍《豆瓣榜单订阅》支持豆瓣在看、想看
- 新增 tmdb web 增强搜索 提升tmdb的匹配成功率
- 新增 系统配置 识别的详细日志开关
- 新增 秘籍《自动删种》
- 新增 秘籍《NullBr 剧集下载》
- 新增 系统配置 搜索任务保留天数
- 新增 秘籍 《自动备份》可自动备份配置文件夹配置文件
- 新增 名称识别 标题支持 tmdb 元数据，支持Emby媒体库的Tmdb标题规范识别
- 新增 系统配置 整理配置 削刮模式 

- 优化 网盘相关页面与交互
- 优化 消息中心快捷指令
- 优化 系统设置页面调整
- 优化 一些页面的手机端UI呈现
- 优化 一些旧简单的秘籍 修改为公共动态表单
- 优化 增强动漫识别
- 优化 是否已入库，剧集考虑媒体服务多目录的情况
- 优化 秘术宝阁默认根据弟子数量排序
- 优化 媒体库缺失季刷新缓存的频率控制为 1 次/小时
- 优化 媒体集入库状态以及媒体入库通知
- 优化 115清目录一次调大为1000个文件
- 优化 重命名 减少 tmdb api 请求
- 优化 网盘 strm 批量生成

- 修复 部分种子 体积识别成集的问题
- 修复 一些其他问题

## 3.0.202505151858
前端：
- 新增 修仙秘籍动态表单支持能力
- 新增 过滤规则支持复制
- 新增 媒体服务器 同步历史支持体积显示
- 新增 媒体详情添加刷新媒体库
- 新增 系统配置-搜索订阅 增加字段 搜索前缀 订阅前缀 配置
- 新增 AI支持启用代理配置
- 新增 目录管理支持搜索
- 优化 媒体同步详情页面逻辑
- 优化 系统配置页面
- 优化 115上传列表页面
- 优化 种子搜索列表排版
- 优化 全局修改placeholder 颜色
- 优化 秘籍分身配置加载交互
- 优化 dashboard小部件1920宽度呈现
- 修复 设置TMDB 语言切换后不能回显
- 修复 秘籍《DC助手》显示异常
- 修复 消息交互无论是否成功，都发出，避免AI长时间等待
- 修复 wiki地址修改 

后端：
- 新增 plex webhook
- 新增 nullbr 支持搜索集数
- 新增 秘籍《媒体服务清理》
- 新增 插件动态表单化
- 新增 规则复制
- 新增 秘籍《柠檬神游》
- 新增 朱雀制作组
- 新增 秘籍《豆瓣榜单订阅》
- 新增 刷新指定媒体的媒体服务接口
- 新增 115 上传列表分页并支持关键字搜索
- 新增 AI支持启用代理
- 新增 媒体库增加默认开关、订阅增加媒体库缺失开关。订阅实时检测媒体库、自动订阅缺失集数
- 新增  消息渠道 IOS客户端 APP 编号配置。【警告：所有IOS用户都要重新配置】
- 优化 识别词和种子识别重构优化
- 优化 认证服务
- 优化 识别支持特别季
- 优化 豆瓣影踪寻宝类型、地区、年代筛选不再写死使用 api 获取
- 优化 任务线程安全
- 优化 日志轮转策略改为 size（10m）默认保留 7 天
- 优化 重构本地整理、网盘整理接入 ai 识别
- 优化 重构消息渠道交互重构、消息渠道搜索和订阅、识别工具 tmdb 详情部分代码
- 优化 媒体库检查
- 修复 tv 订阅拆包下载异常丢失
- 修复 b站年份参数修复
- 修复 douban发现 tv 类型问题
- 修复 豆瓣发现只有一页的问题
- 修复 馒头搜索缓存问题
- 修复 本地、网盘整理路径、文件忽略问题
- 修复 115 refresh token 频繁
- 修复 秘籍保存后实例重复问题
- 修复 清理过滤规则明细（需要删除任意一个规则组触发）
- 修复 导入时排除变成包含的问题
- 修复 搜索种子开了精准或者订阅接入 ai 增识别
- 修复 B站榜单问题
- 修复 一些其他问题

## 3.0.202505091236
🚀 **Media Saber 3.0 正式发布：重塑高效媒体管理的未来** 🚀    
历经一年的匠心打磨与精益求精，**Media Saber 3.0** 终于以全新姿态耀世登场！作为首个正式版本，我们不仅重构了每一行代码，更以极致性能与智能功能重新定义媒体管理工具的标准。这一次，我们不止是升级——而是彻底革新！    
 🔥 **颠覆性重构，企业级技术架构**   
告别传统束缚，Media Saber 3.0 采用 **Angular + Go + Redis + PostgreSQL** 的全栈技术组合，以现代化、高并发的企业级框架为基石。前后端彻底分离，性能更稳、速度更快、扩展性更强！    
- **跨平台客户端**：基于 **Flutter** 重构的移动端，实现 Android 与 iOS 代码高度复用，维护性提升 200%，体验丝滑如一。   
- **数据无忧**：PostgreSQL 保障数据安全，Redis 加速响应，从此告别卡顿与丢失风险。    
 ⚡ **性能飞跃，快如闪电**   
镜像体积降低80%，内存占用降低50%，运行效率最高提升10倍！无论是启动速度还是操作流畅度，均实现**质的突破**。   
- 🚄 **秒级响应**：海量媒体库加载，百站搜索仅需弹指之间。   
- 🛠️ **资源占用极低**：轻量化设计，后台运行不拖累系统。    
 🌩️ **智能云端存储，一键掌控云端资源**   
重磅推出** 115 网盘深度集成功能，打造你的私有媒体中枢！   
- 📤 **上传/下载无忧**：直接对接网盘，资源流转更自由。   
- 🎬 **STRM 文件生成**：轻松兼容本地媒体库，点播云端视频如本地般顺畅。  
 - 🌳 **智能目录树**：自动归类网盘内容，杂乱文件秒变井然有序！    
 ✨ **初心不改，为极客而生**   
Media Saber 由资深 **Pter 开发团队** 倾力打造，从产品设计到架构实现，100% 独立自主研发。我们摒弃了过时的 Python+SQLite 组合，以**全新技术栈**重塑核心，只为给你：   
- ✅ **更高效**：多线程优化，任务并行处理。   
- ✅ **更稳定**：企业级容错机制，7×24 小时无间断运行。   
- ✅ **更安全**：数据加密传输，隐私零泄露。    
 🌟 **立即升级，体验未来式媒体管理**   
这不仅仅是一次版本迭代，而是**媒体工具领域的革命**！无论你是影音爱好者、资源整理控，还是追求效率的极客，Media Saber 3.0 都将成为你的得力助手。   
 📲 **现在安装**，开启高效与智能的寻影探剧之旅！   


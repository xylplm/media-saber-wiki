---
title: 智能体
article: false
tags:
  - 智能体
  - AI聊天
  - 语音交互
  - MCP服务
categories: null
editor: markdown
permalink: /docs/ai/ai/
date: 2025-08-09 12:16:17
---

# 🤖 智能体

智能体是一个强大的AI对话功能，支持与多种AI模型进行自然语言交互，具备语音输入、MCP工具集成、对话管理等丰富功能，让您可以通过对话方式高效地处理各种任务。

## 📋 页面功能概览

### 🎚️ 顶部工具栏

- 🍔 **侧边栏切换**：点击菜单按钮显示/隐藏会话列表
- 🤖 **模型选择**：下拉选择可用的AI模型
- ⚙️ **智能体配置**：配置角色名称和系统提示词
- 🔄 **更新标题**：AI智能生成当前会话标题
- 🗑️ **清空当前会话**：删除当前会话的所有消息

### 📱 侧边栏功能

**会话管理区域**

- 🔍 **搜索框**：通过关键词搜索历史会话
- ➕ **新建会话**：创建新的对话会话
- 📊 **会话列表**：显示所有历史会话（显示数量统计）
- 🗑️ **清空所有会话**：删除所有会话记录

**会话操作**

每个会话支持以下操作：
- 📋 **选择会话**：点击切换到指定会话
- 🗑️ **删除会话**：删除单个会话记录
- ⏰ **时间显示**：显示会话创建时间

### 💬 消息显示区域

**消息类型展示**

- 👤 **用户消息**：显示用户发送的消息内容
- 🤖 **AI回复**：显示AI助手的回复内容
- ⚡ **流式响应**：实时显示AI正在生成的内容
- ❌ **错误提示**：显示响应失败的消息和重试选项

**消息操作功能**

用户消息操作：
- 🔄 **重新发送**：重新发送该条用户消息
- 🗑️ **删除消息**：删除该条消息

AI回复操作：
- 📋 **复制内容**：复制AI回复到剪贴板
- 🔄 **重新生成**：让AI重新生成回复
- 🗑️ **删除消息**：删除该条回复

**分页加载**

- ⬆️ **加载更多**：点击加载更早的历史消息
- 📊 **消息统计**：显示剩余未加载的消息数量

### ⌨️ 消息输入区域

**输入工具栏**

- 🔌 **MCP服务管理**：
  - 🔴 插头断开图标：MCP功能未启用，点击进入配置
  - 🟢 插头连接图标：MCP功能已启用，点击管理服务
- 🎤 **语音输入**：支持语音转文字输入
  - 🔴 录音中：显示动态波纹效果
  - ⚪ 待机状态：普通麦克风图标

**消息输入框**

- 📝 **文本输入**：支持键盘输入消息内容
- ⏎ **回车发送**：按回车键快速发送消息
- 📤 **发送按钮**：点击发送当前输入的消息
- ⏹️ **停止生成**：在AI回复过程中停止生成

## 🤖 智能体配置

### 🎭 角色配置

点击顶部工具栏的"智能体配置"按钮，可以设置：

**角色名称**
- 📝 **名称字段**：设置智能体的角色名称
- 🔄 **占位符替换**：系统会自动在提示词中替换 `roleName` 占位符
- 💡 **显示效果**：角色名称会在对话界面和空状态提示中显示

**系统提示词**
- 📄 **多行文本**：支持输入详细的系统提示词
- 🎯 **行为定义**：定义AI的回复风格、知识范围、交互方式
- 🔧 **模板支持**：可使用占位符实现动态内容替换

### 💾 配置管理

- ✅ **保存配置**：点击保存按钮更新智能体配置
- ❌ **取消修改**：放弃当前修改，恢复原始配置
- 🔄 **实时生效**：保存后新配置立即应用到后续对话

## 🔌 MCP服务集成

### 🚀 MCP功能概述

MCP (Model Context Protocol) 是一个协议标准，允许AI模型访问外部工具和服务，大大扩展AI的功能边界。

### ⚙️ MCP服务管理

**启用状态检查**
- 🔴 **未启用状态**：工具栏显示断开的插头图标
- 🟢 **已启用状态**：工具栏显示连接的插头图标
- ⚡ **快速配置**：点击图标可快速进入MCP服务配置页面

**内置服务列表**

启用MCP功能后，系统将提供以下内置服务：

**Media Saber 系统内置服务**：

> 💡 **前置要求**：系统内置服务需要在Docker环境中配置环境变量 `MS_MCP_SERVER_HTTP_ADDR="0.0.0.0:22696"` 并重启容器后才能使用。详细配置请参考 [MCP服务文档](/docs/ai/mcp/)。

- 📺 **媒体服务**：基础媒体管理功能
- 🎬 **MS 媒体服务**：包含媒体、订阅、站点、媒体服务、云存储、系统等完整服务


**第三方MCP服务模板**：

系统还提供了来自多个第三方服务提供商的MCP服务模板，这些服务需要额外配置：

- 🗺️ **地图服务**：地理位置查询、路线规划等服务
- 🔍 **搜索服务**：网络搜索和信息检索功能  
- 📊 **数据分析**：数据处理和分析工具
- 🌤️ **天气服务**：天气查询和预报功能
- 📰 **新闻资讯**：实时新闻和资讯获取

### 🔧 第三方MCP服务配置流程

**步骤一：访问服务提供商网站**

1. 进入智能体页面，点击MCP服务管理
2. 选择"添加新服务"→"使用模板"
3. 浏览可用的第三方服务模板列表
4. 查看服务的**提供商信息**，包含：
   - **提供商名称**：服务开发者或组织
   - **提供商网站**：服务提供商的官方网站

**步骤二：获取服务配置信息**

1. 点击或访问提供商网站链接
2. 在提供商网站上注册账户或登录
3. 获取您的服务配置信息（如API密钥、服务ID、访问地址等）
4. 记录下相关的连接信息

**步骤三：在Media Saber中配置**

1. 返回MCP服务配置页面
2. 选择对应的服务模板
3. 根据提供商网站的要求，填写或修改以下配置信息：
   - **服务地址**：替换模板中的占位符为实际服务地址
   - **请求头**：添加认证信息或其他必需的HTTP头
   - **超时设置**：根据服务特性调整超时时间
   - **提供商信息**：确认提供商名称和网站信息

**配置示例**：

以某地图服务为例：

- 模板地址：`https://api.example.com/YOUR_SERVICE_ID/mcp`
- 实际地址：`https://api.example.com/abc123def456/mcp`
- 请求头：`{"Authorization": "Bearer your_api_key", "Content-Type": "application/json"}`

**提供商信息字段说明**：

- **提供商**：填写服务提供商的名称（如 OpenAI、Anthropic、魔塔社区等）
- **提供商网站**：填写服务提供商的官方网站地址，用户可以访问该地址获取更多信息和配置说明

> ⚠️ **注意事项**：
> - 不同提供商的服务配置方式可能不同，请仔细阅读提供商网站的配置说明
> - 保护好您的API密钥和认证信息，不要与他人共享
> - 确保网络连接正常，部分服务可能需要稳定的网络环境
> - 第三方服务的可用性和功能由相应的服务提供商维护

> 💡 **配置要求**：使用MCP服务前，需要先在 [基础设置](/docs/system_settings/basic_settings/) 中配置OpenAI API相关信息并启用MCP功能。

**服务配置选项**
- 📂 **服务列表管理**：查看和管理已配置的MCP服务
- ➕ **添加新服务**：手动配置或从模板添加MCP服务
- 🏪 **预设模板**：使用内置的服务模板快速配置

### 🛠️ 快速添加MCP服务

**预设服务模板**
- 📋 **服务列表**：显示可用的预设MCP服务模板（包括系统内置和第三方服务）
- 🔍 **服务详情**：查看服务功能、提供者、版本等信息
- 🏷️ **分类标签**：服务类型和功能分类标识
- ⭐ **功能特性**：展示服务支持的具体功能

**服务信息展示**
- 🏢 **提供者信息**：显示服务开发者或组织（Media Saber内置 / 第三方提供商）
- 📦 **版本信息**：显示服务版本号
- 📝 **功能描述**：详细说明服务功能和用途
- 🔧 **配置类型**：显示服务配置方式（stdio/sse/http等）
- 🌐 **提供商网站**：显示服务提供商的官方网站链接（如果可用）

**操作选项**
- ✅ **使用模板**：选择并应用预设服务配置
  - 系统内置服务：直接应用，无需额外配置
  - 第三方服务：需要访问提供商网站获取配置信息并替换模板中的占位符
- ✋ **手动添加**：跳过模板，手动配置服务参数
- ❌ **取消操作**：放弃添加新服务

**第三方服务配置提示**
- 🔗 如选择第三方MCP服务模板，系统会显示提供商网站链接
- 🌐 点击提供商网站链接可访问服务配置页面
- 📝 在提供商网站完成配置后，返回填写服务地址、请求头等连接信息
- ✅ 建议先进行连接测试，确保服务配置正确

### 📥 批量导入MCP服务

**导入功能**
- 📄 **JSON格式**：支持从JSON配置文件批量导入服务
- 🔍 **格式验证**：自动验证导入数据的格式正确性
- ⚠️ **错误提示**：显示详细的格式错误信息

**导入流程**
1. 📋 **粘贴配置**：将MCP服务配置JSON粘贴到文本框
2. ✅ **格式检查**：系统验证配置格式和必需字段
3. 💾 **保存服务**：确认导入并保存到系统中

## 🎤 语音交互功能

### 🎙️ 语音输入

**启用语音输入**
- 🎤 **点击激活**：点击麦克风图标开始语音输入
- 🌊 **动态指示**：录音时显示波纹动画效果
- 🎯 **实时识别**：语音实时转换为文字内容

**语音状态指示**
- ⚪ **待机状态**：普通麦克风图标，可点击开始录音
- 🔴 **录音中状态**：显示动态波纹效果和高亮色彩
- ✅ **识别完成**：语音转文字后自动填入输入框

### 📝 语音转文字

**识别功能**
- 🎯 **准确识别**：支持中文和英文语音识别
- ⚡ **实时反馈**：边录音边显示识别结果
- 🔄 **自动填充**：识别完成后自动填入消息输入框

## 🎯 使用场景与技巧

### 💡 对话管理

**会话组织**
- 📁 **按主题分组**：为不同类型的任务创建独立会话
- 🔍 **快速查找**：使用搜索功能快速定位历史会话
- 🏷️ **智能标题**：使用AI生成功能为会话创建有意义的标题

**消息操作**
- 💬 **分支对话**：通过重新生成创建不同的回复分支
- 📋 **内容复用**：复制有用的回复内容到其他地方
- 🔄 **迭代优化**：通过重新发送完善问题表达

### 🛠️ 工具集成

**MCP服务应用**
- 🔌 **扩展能力**：通过MCP服务让AI访问外部工具
- 🎯 **专业任务**：配置专门的服务处理特定领域任务
- 🔄 **动态调用**：AI自动判断何时调用相应工具
- 🗺️ **地理服务**：使用地图等服务进行位置查询和路线规划
- 🌤️ **实时信息**：通过天气、新闻等服务获取实时信息
- 🔍 **搜索增强**：利用搜索服务扩展AI的信息获取能力

**语音交互**
- 🎤 **便捷输入**：在移动设备或不方便打字时使用语音
- ⚡ **快速提问**：通过语音快速向AI提出问题
- 🔄 **多模态交互**：结合文字和语音进行灵活交互

### ⚙️ 高级配置

**智能体定制**
- 🎭 **角色扮演**：配置特定角色的系统提示词
- 📚 **专业知识**：为特定领域配置专业化的AI助手
- 🎯 **行为约束**：通过提示词控制AI的回复风格和范围

**模型选择**
- 🤖 **能力匹配**：根据任务复杂度选择合适的模型
- ⚡ **响应速度**：平衡模型能力和响应速度需求
- 💰 **成本控制**：根据使用频率选择合适的模型

## 🚫 注意事项与限制

### ⚠️ 使用限制

**模型依赖**
- 🔗 **API配置**：需要在 [基础设置](/docs/system_settings/basic_settings/) 中正确配置AI API才能使用
- 🌐 **网络连接**：需要稳定的网络连接保证正常使用
- 💰 **使用额度**：注意AI API的使用配额和费用限制

**功能限制**
- 🔌 **MCP依赖**：MCP功能需要额外的服务配置，详见 [MCP服务文档](/docs/ai/mcp/)
- �️ **内置服务**：Media Saber系统内置MCP服务需要配置环境变量 `MS_MCP_SERVER_HTTP_ADDR` 才能启用
- �🎤 **浏览器支持**：语音功能需要浏览器支持语音识别API
- 📱 **设备兼容**：某些功能在不同设备上可能有差异
- 🌐 **第三方服务**：来自各种服务提供商的MCP服务需要稳定的网络连接，服务可用性由第三方维护
- 🔑 **服务配置**：第三方MCP服务需要有效的配置信息，请确保从服务提供商网站正确获取

### 💡 最佳实践

**对话优化**
- ❓ **明确问题**：提出具体、明确的问题获得更好回复
- 📝 **上下文管理**：合理组织对话上下文，避免过长对话
- 🔄 **迭代改进**：通过多轮对话逐步完善任务目标

**配置管理**
- 💾 **定期备份**：重要的智能体配置要及时备份
- 🧪 **测试验证**：新配置要先测试确保符合预期
- 📋 **文档记录**：记录重要配置的用途和设置说明

通过智能体功能，您可以创建专业化的AI助手，结合MCP工具扩展能力，实现高效的人机协作，大大提升工作效率和体验质量。

---

## 📖 相关文档

- [MCP服务](/docs/ai/mcp/) - 了解如何配置和使用MCP服务
- [基础设置](/docs/system_settings/basic_settings/) - 配置OpenAI API和智能体相关设置